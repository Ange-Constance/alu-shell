#!/usr/bin/env bash
# Function to check if the process is running
is_process_running() {
    pid_file="/var/run/my_process.pid"
    pid=$(cat "$pid_file" 2>/dev/null)
    if [ -n "$pid" ] && ps -p "$pid" > /dev/null; then
        return 0  
else
        return 1  
    fi
}
case "$1" in
    start)
        if is_process_running; then
            echo "manage_my_process is already running"
        else
            ./manage_my_process start
        fi
        ;;
    stop)
        ./manage_my_process stop
        ;;
    restart)
        ./manage_my_process restart
        ;;
    *)
        echo "Usage: $0 {start|stop|restart}"
        exit 1
        ;;
esac
